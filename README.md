# IPO网上路演中的“答非所问”程度的量化计算
## 工程背景
与国外发达的股票市场不同，中国股票市场中的投资者以中小投资者为主，而中小投资者往往无法参与线下路演，这使得中小投资者与发行方之间的信息不对称问题变得更加严重。中国证监会要求自 2001 年 3 月 1 日起，新股发行公司在新股发行前，必须通过网上路演的方式向投资者进行公司推介。经过近 20 年的发展，网上路演已经成为中小投资者了解发行方的基本情况、发展前景以及发行相关安排的重要渠道，同时也是发行方向中小投资者进行上市推介的重要平台。 [^1]

网上路演中投资者与管理层之间的问答属于典型的互动式信息披露，在网上路演中投资者可以和公司管理层进行实时互动交流，通过提问来主动挖掘自己感兴趣的信息，并希望管理层能给予真实有效的回答，以此来更好地对公司进行估值判断。但是，通过对网上路演文档的阅读，我们发现公司管理层对投资者的提问有时会以答非所问的方式进行回复。例如，以下的一组问答：

*问：“公司在今后的发展中将会遇到哪些困难？”*

*答：“市场经济的主要特征是完全性竞争，公司这些年所取得的成绩只能说明过去。我们一直在思考：如何保持企业长盛不衰？如何使企业效益能持续、稳定增长？这是需要我们不断回答的难题。”*

在上面的这组问答中，投资者想要了解公司在未来的发展中可能会遇到的困境，以便更全面地对公司进行评估；而公司管理层显然并没有直接地回答投资者的提问，这可能是因为如果直接如实地回答会传递出一些对公司不利的信息，但又不能选择拒绝回答（因为这样不仅影响网上路演召开的效果，而且更可能被投资者理解为公司可能将面临很大的困境）。因此，公司管理层采取了顾左右而言他、答非所问的回应策略，以比较委婉的方式来进行应对。那么在网上路演中，投资者是否可以察觉到公司管理层回答问题时，有意地答非所问？这是否会影响投资者对公司的估值？最后，投资者透过管理层的答非所问，对公司估值的判断是否是理性的？ [^1]

[^1]: 卞世博, 阎志鹏. "答非所问"与IPO市场表现——来自网上路演期间的经验证据[J]. 财经研究, 2020, 46(1):15.

## 工程实现目标的定义
答非所问是一种常用的语言回应策略，主要表现为回答者给出的回应内容与提问者的问题毫无关联（祝吉芳和元国江，2006）。在自然语言分析中的社区问答（Community Question Answering，CQA）领域，学者们常常利用回答与问题之间的文本相似度来对回答与问题的相关程度进行度量（Mihaylov 和 Nakov，2016；Charlet 和 Damnati，2017）。

此工程将“答非所问”定义为：

***IrrelevantAnswer=1-SoftCosineMeasure***

IrrelevantAnswer越大，说明明管理层的回答与投资者的问题越不相关，即答非所问的程度越高。

由此，目标转化为计算SoftCosineMesure

## 软余弦度量SoftCosineMeasure

软余弦度量(SCM)是一种方法，允许我们以一种有意义的方式评估两个文本之间的相似性，即使它们没有共同的单词。

![SCM](https://github.com/RaRe-Technologies/gensim/raw/ded78776284ad7b55b6626191eaa8dcea0dd3db0/docs/notebooks/soft_cosine_tutorial.png) [^2]

[^2]: https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/soft_cosine_tutorial.ipynb

## 词嵌入WordEmbedding
词嵌入是一个自然语言处理（NLP）的术语，它是指把一个维数为所有词的数量的高维空间嵌入到一个维数低得多的连续向量空间中，每个单词或词组被映射为实数域上的向量。而转化成向量以后，才可以进行如上图的计算。

## 实现
第一步，获取网络路演问答文本数据。

第二步，调用python的gensim包，使用word2vec算法实现词嵌入。将网络路演问答文本数据训练为一个word2vec模型，也就是说，构建了一个“网络路演问答”这样的词向量空间。

第三步，调用python的openpyxl和jieba包，对网络路演问答文本数据（Excel文件）进行文本预处理（将句子分词 删去标点符号、数字等）。将问句和答句变成两个 包含多个词的向量。

第四步，调用python的gensim包，计算SoftCosineMeasure

## 后记
同级目录里的代码roadshow_cal_batch.py里没有训练word2vec模型的部分，这一部分参照gensim的文档即可。
